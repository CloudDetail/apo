basePath: /
definitions:
  amconfig.EmailConfig:
    properties:
      authIdentity:
        type: string
      authPassword:
        type: string
      authPasswordFile:
        type: string
      authSecret:
        type: string
      authUsername:
        type: string
      from:
        type: string
      headers:
        additionalProperties:
          type: string
        type: object
      hello:
        type: string
      html:
        type: string
      requireTls:
        type: boolean
      sendResolved:
        type: boolean
      smarthost:
        $ref: '#/definitions/amconfig.HostPort'
      text:
        type: string
      tlsConfig:
        $ref: '#/definitions/httpconfig.TLSConfig'
      to:
        description: Email address to notify.
        type: string
    type: object
  amconfig.HostPort:
    properties:
      host:
        type: string
      port:
        type: string
    type: object
  amconfig.Receiver:
    properties:
      emailConfigs:
        items:
          $ref: '#/definitions/amconfig.EmailConfig'
        type: array
      name:
        description: A unique identifier for this receiver.
        type: string
      webhookConfigs:
        items:
          $ref: '#/definitions/amconfig.WebhookConfig'
        type: array
    type: object
  amconfig.URL:
    type: object
  amconfig.WebhookConfig:
    properties:
      httpConfig:
        $ref: '#/definitions/httpconfig.HTTPClientConfig'
      maxAlerts:
        description: |-
          MaxAlerts is the maximum number of alerts to be sent per webhook message.
          Alerts exceeding this threshold will be truncated. Setting this to 0
          allows an unlimited number of alerts.
        type: integer
      sendResolved:
        type: boolean
      url:
        allOf:
        - $ref: '#/definitions/amconfig.URL'
        description: URL to send POST request to.
      urlFile:
        type: string
    type: object
  clickhouse.AlertEventSample:
    properties:
      alarmCount:
        type: integer
      alertKey:
        type: string
      createTime:
        description: 故障触发时间
        type: string
      detail:
        type: string
      endTime:
        description: 故障恢复时间（仅恢复时存在）
        type: string
      group:
        description: 故障所属分组信息
        type: string
      id:
        type: string
      name:
        type: string
      receivedTime:
        description: 故障事件接收时间（用于记录数据对接，无业务含义）
        type: string
      severity:
        $ref: '#/definitions/model.SeverityLevel'
      source:
        type: string
      status:
        $ref: '#/definitions/model.Status'
      tags:
        additionalProperties:
          type: string
        type: object
      updateTime:
        description: 故障最后一次发生时间
        type: string
    type: object
  clickhouse.FaultLogResult:
    properties:
      containerId:
        type: string
      endTime:
        type: integer
      endpoint:
        type: string
      instanceId:
        type: string
      nodeName:
        type: string
      pid:
        type: integer
      podName:
        type: string
      serviceName:
        type: string
      startTime:
        type: integer
      traceId:
        type: string
    type: object
  clickhouse.LogContent:
    properties:
      body:
        type: string
      timestamp:
        type: integer
    type: object
  clickhouse.Logs:
    properties:
      contents:
        items:
          $ref: '#/definitions/clickhouse.LogContent'
        type: array
      source:
        type: string
    type: object
  clickhouse.PagedAlertEvent:
    properties:
      createTime:
        description: 故障触发时间
        type: string
      detail:
        type: string
      endTime:
        description: 故障恢复时间（仅恢复时存在）
        type: string
      group:
        description: 故障所属分组信息
        type: string
      id:
        type: string
      name:
        type: string
      receivedTime:
        description: 故障事件接收时间（用于记录数据对接，无业务含义）
        type: string
      severity:
        $ref: '#/definitions/model.SeverityLevel'
      source:
        type: string
      status:
        $ref: '#/definitions/model.Status'
      tags:
        additionalProperties:
          type: string
        type: object
      updateTime:
        description: 故障最后一次发生时间
        type: string
    type: object
  clickhouse.QueryTraceResult:
    properties:
      duration:
        type: integer
      endpoint:
        type: string
      flags:
        additionalProperties:
          type: boolean
        type: object
      instanceId:
        type: string
      isError:
        type: boolean
      labels:
        additionalProperties:
          type: string
        type: object
      serviceName:
        type: string
      timestamp:
        type: integer
      traceId:
        type: string
    type: object
  clickhouse.SpanTraceOptions:
    properties:
      dataType:
        $ref: '#/definitions/request.DataType'
      key:
        type: string
      operation:
        $ref: '#/definitions/request.Operation'
      options: {}
      parentField:
        $ref: '#/definitions/request.ParentField'
      value:
        items:
          type: string
        type: array
    type: object
  clickhouse.ToplogyRelation:
    properties:
      endpoint:
        type: string
      isTraced:
        type: boolean
      parentEndpoint:
        type: string
      parentService:
        type: string
      service:
        type: string
    type: object
  clickhouse.TopologyNode:
    properties:
      endpoint:
        type: string
      isTraced:
        type: boolean
      service:
        type: string
    type: object
  code.Failure:
    properties:
      code:
        description: 业务码
        type: string
      message:
        description: 错误信息
        type: string
    type: object
  httpconfig.Authorization:
    properties:
      credentials:
        type: string
      credentialsFile:
        type: string
      credentialsRef:
        description: CredentialsRef is the name of the secret within the secret manager
          to use as credentials.
        type: string
      type:
        type: string
    type: object
  httpconfig.BasicAuth:
    properties:
      password:
        type: string
      passwordFile:
        type: string
      passwordRef:
        description: PasswordRef is the name of the secret within the secret manager
          to use as the password.
        type: string
      username:
        type: string
      usernameFile:
        type: string
      usernameRef:
        description: UsernameRef is the name of the secret within the secret manager
          to use as the username.
        type: string
    type: object
  httpconfig.HTTPClientConfig:
    properties:
      authorization:
        allOf:
        - $ref: '#/definitions/httpconfig.Authorization'
        description: The HTTP authorization credentials for the targets.
      basicAuth:
        allOf:
        - $ref: '#/definitions/httpconfig.BasicAuth'
        description: The HTTP basic authentication credentials for the targets.
      bearerToken:
        description: |-
          The bearer token for the targets. Deprecated in favour of
          Authorization.Credentials.
        type: string
      bearerTokenFile:
        description: |-
          The bearer token file for the targets. Deprecated in favour of
          Authorization.CredentialsFile.
        type: string
      enableHttp2:
        description: |-
          EnableHTTP2 specifies whether the client should configure HTTP2.
          The omitempty flag is not set, because it would be hidden from the
          marshalled configuration when set to false.
        type: boolean
      followRedirects:
        description: |-
          FollowRedirects specifies whether the client should follow HTTP 3xx redirects.
          The omitempty flag is not set, because it would be hidden from the
          marshalled configuration when set to false.
        type: boolean
      httpHeaders:
        allOf:
        - $ref: '#/definitions/httpconfig.Headers'
        description: |-
          HTTPHeaders specify headers to inject in the requests. Those headers
          could be marshalled back to the users.
      noProxy:
        description: NoProxy contains addresses that should not use a proxy.
        type: string
      oauth2:
        allOf:
        - $ref: '#/definitions/httpconfig.OAuth2'
        description: The OAuth2 client credentials used to fetch a token for the targets.
      proxyConnectHeader:
        allOf:
        - $ref: '#/definitions/httpconfig.ProxyHeader'
        description: |-
          ProxyConnectHeader optionally specifies headers to send to
          proxies during CONNECT requests. Assume that at least _some_ of
          these headers are going to contain secrets and use Secret as the
          value type instead of string.
      proxyFromEnvironment:
        description: |-
          ProxyFromEnvironment makes use of net/http ProxyFromEnvironment function
          to determine proxies.
        type: boolean
      proxyUrl:
        allOf:
        - $ref: '#/definitions/httpconfig.URL'
        description: HTTP proxy server to use to connect to the targets.
      tlsConfig:
        allOf:
        - $ref: '#/definitions/httpconfig.TLSConfig'
        description: TLSConfig to use to connect to the targets.
    type: object
  httpconfig.Header:
    properties:
      files:
        items:
          type: string
        type: array
      secrets:
        items:
          type: string
        type: array
      values:
        items:
          type: string
        type: array
    type: object
  httpconfig.Headers:
    properties:
      headers:
        additionalProperties:
          $ref: '#/definitions/httpconfig.Header'
        type: object
    type: object
  httpconfig.OAuth2:
    properties:
      clientId:
        type: string
      clientSecret:
        type: string
      clientSecretFile:
        type: string
      clientSecretRef:
        description: |-
          ClientSecretRef is the name of the secret within the secret manager to use as the client
          secret.
        type: string
      endpointParams:
        additionalProperties:
          type: string
        type: object
      noProxy:
        description: NoProxy contains addresses that should not use a proxy.
        type: string
      proxyConnectHeader:
        allOf:
        - $ref: '#/definitions/httpconfig.ProxyHeader'
        description: |-
          ProxyConnectHeader optionally specifies headers to send to
          proxies during CONNECT requests. Assume that at least _some_ of
          these headers are going to contain secrets and use Secret as the
          value type instead of string.
      proxyFromEnvironment:
        description: |-
          ProxyFromEnvironment makes use of net/http ProxyFromEnvironment function
          to determine proxies.
        type: boolean
      proxyUrl:
        allOf:
        - $ref: '#/definitions/httpconfig.URL'
        description: HTTP proxy server to use to connect to the targets.
      scopes:
        items:
          type: string
        type: array
      tlsconfig:
        $ref: '#/definitions/httpconfig.TLSConfig'
      tokenUrl:
        type: string
    type: object
  httpconfig.ProxyHeader:
    additionalProperties:
      items:
        type: string
      type: array
    type: object
  httpconfig.TLSConfig:
    properties:
      ca:
        description: Text of the CA cert to use for the targets.
        type: string
      caFile:
        description: The CA cert to use for the targets.
        type: string
      caRef:
        description: |-
          CARef is the name of the secret within the secret manager to use as the CA cert for the
          targets.
        type: string
      cert:
        description: Text of the client cert file for the targets.
        type: string
      certFile:
        description: The client cert file for the targets.
        type: string
      certRef:
        description: |-
          CertRef is the name of the secret within the secret manager to use as the client cert for
          the targets.
        type: string
      insecureSkipVerify:
        description: Disable target certificate validation.
        type: boolean
      key:
        description: Text of the client key file for the targets.
        type: string
      keyFile:
        description: The client key file for the targets.
        type: string
      keyRef:
        description: |-
          KeyRef is the name of the secret within the secret manager to use as the client key for
          the targets.
        type: string
      maxVersion:
        description: Maximum TLS version.
        type: integer
      minVersion:
        description: Minimum TLS version.
        type: integer
      serverName:
        description: Used to verify the hostname for the targets.
        type: string
    type: object
  httpconfig.URL:
    type: object
  model.AlertDetail:
    properties:
      alertMessage:
        type: string
      alertObject:
        type: string
      alertReason:
        type: string
      timestamp:
        type: integer
    type: object
  model.AlertMetricsData:
    properties:
      labels:
        items:
          type: string
        type: array
      name:
        type: string
      pql:
        type: string
      unit:
        type: string
    type: object
  model.AlertReason:
    additionalProperties:
      items:
        $ref: '#/definitions/model.AlertDetail'
      type: array
    type: object
  model.ModifyTableTTLMap:
    properties:
      TTLExpression:
        type: string
      name:
        type: string
      originalDays:
        type: integer
    type: object
  model.Pagination:
    properties:
      currentPage:
        description: 当前页码
        type: integer
      pageSize:
        description: 每页条数
        type: integer
      total:
        description: 总记录数
        type: integer
    type: object
  model.ServiceInstance:
    properties:
      containerId:
        description: 容器ID
        type: string
      nodeName:
        description: 主机名
        type: string
      pid:
        description: 进程号
        type: integer
      podName:
        description: Pod名
        type: string
      service:
        description: 服务名
        type: string
    type: object
  model.SeverityLevel:
    enum:
    - 0
    - 1
    - 2
    - 3
    - 4
    type: integer
    x-enum-varnames:
    - SeverityLevelUnknown
    - SeverityLevelInfo
    - SeverityLevelWarning
    - SeverityLevelError
    - SeverityLevelCritical
  model.Status:
    enum:
    - 0
    - 1
    type: integer
    x-enum-varnames:
    - StatusResolved
    - StatusFiring
  prometheus.MetricsPoint:
    properties:
      timestamp:
        description: 时间(微秒)
        type: integer
      value:
        description: 值
        type: number
    type: object
  request.Alert:
    properties:
      annotations:
        additionalProperties:
          type: string
        type: object
      endsAt:
        type: string
      fingerprint:
        type: string
      generatorURL:
        type: string
      labels:
        additionalProperties:
          type: string
        type: object
      startsAt:
        type: string
      status:
        type: string
    type: object
  request.AlertRule:
    properties:
      alert:
        type: string
      annotations:
        additionalProperties:
          type: string
        type: object
      expr:
        type: string
      for:
        type: string
      group:
        type: string
      keepFiringFor:
        type: string
      labels:
        additionalProperties:
          type: string
        type: object
      record:
        type: string
    required:
    - group
    type: object
  request.DataType:
    enum:
    - int64
    - uint32
    - uint64
    - string
    - bool
    type: string
    x-enum-varnames:
    - I64Column
    - U32Column
    - U64Column
    - StringColumn
    - BoolColumn
  request.GetAlertManagerConfigReceverRequest:
    properties:
      amConfigFile:
        type: string
      currentPage:
        type: integer
      name:
        type: string
      pageSize:
        type: integer
      rType:
        type: string
    type: object
  request.GetAlertRuleRequest:
    properties:
      alert:
        type: string
      alertRuleFile:
        type: string
      currentPage:
        type: integer
      group:
        type: string
      keyword:
        type: string
      pageSize:
        type: integer
      severity:
        description: 告警级别 info warning ...
        items:
          type: string
        type: array
    type: object
  request.GetFaultLogContentRequest:
    properties:
      containerId:
        type: string
      endTime:
        type: integer
      endpoint:
        type: string
      instanceId:
        type: string
      nodeName:
        type: string
      pid:
        type: integer
      podName:
        type: string
      serviceName:
        type: string
      sourceFrom:
        description: 日志数据源
        type: string
      startTime:
        type: integer
      traceId:
        type: string
    type: object
  request.GetFaultLogPageListRequest:
    properties:
      containerId:
        description: 容器名
        type: string
      endTime:
        description: 查询结束时间
        type: integer
      instance:
        description: 实例名
        type: string
      nodeName:
        description: 主机名
        type: string
      pageNum:
        description: 第几页
        type: integer
      pageSize:
        description: 每页显示条数
        type: integer
      pid:
        description: 进程号
        type: integer
      service:
        description: 查询服务名
        type: string
      startTime:
        description: 查询开始时间
        minimum: 0
        type: integer
      traceId:
        description: TraceId
        type: string
    required:
    - endTime
    type: object
  request.GetTraceFilterValueRequest:
    properties:
      endTime:
        description: 查询结束时间
        type: integer
      filter:
        $ref: '#/definitions/request.SpanTraceFilter'
      searchText:
        description: 查询关键字
        type: string
      startTime:
        description: 查询开始时间
        minimum: 0
        type: integer
    required:
    - endTime
    type: object
  request.GetTracePageListRequest:
    properties:
      containerId:
        description: 容器名
        type: string
      endTime:
        description: 查询结束时间
        type: integer
      endpoint:
        description: 查询Endpoint
        type: string
      filters:
        description: 过滤器
        items:
          $ref: '#/definitions/request.SpanTraceFilter'
        type: array
      instance:
        description: 实例名
        type: string
      nodeName:
        description: 主机名
        type: string
      pageNum:
        description: 第几页
        type: integer
      pageSize:
        type: integer
      pid:
        description: 进程号
        type: integer
      service:
        description: 查询服务名
        type: string
      startTime:
        description: 查询开始时间
        minimum: 0
        type: integer
      traceId:
        description: TraceId
        type: string
    required:
    - endTime
    type: object
  request.InputAlertManagerRequest:
    properties:
      alerts:
        items:
          $ref: '#/definitions/request.Alert'
        type: array
      commonAnnotations:
        additionalProperties:
          type: string
        type: object
      commonLabels:
        additionalProperties:
          type: string
        type: object
      groupLabels:
        additionalProperties:
          type: string
        type: object
      receiver:
        type: string
      status:
        type: string
      truncatedAlerts:
        type: integer
    type: object
  request.Operation:
    enum:
    - EQUAL
    - NOT_EQUAL
    - IN
    - NOT_IN
    - LIKE
    - NOT_LIKE
    - EXISTS
    - NOT_EXISTS
    - CONTAINS
    - NOT_CONTAINS
    - GREATER_THAN
    - LESS_THAN
    type: string
    x-enum-varnames:
    - OpEqual
    - OpNotEqual
    - OpIn
    - OpNotIn
    - OpLike
    - OpNotLike
    - OpExists
    - OpNotExists
    - OpContains
    - OpNotContains
    - OpGreaterThan
    - OpLessThan
  request.ParentField:
    enum:
    - labels
    - flags
    type: string
    x-enum-varnames:
    - PF_Labels
    - PF_Flags
  request.SetSingleTTLRequest:
    properties:
      day:
        description: 保存数据周期天数
        type: integer
      name:
        description: 表名
        type: string
    required:
    - day
    - name
    type: object
  request.SetTTLRequest:
    properties:
      dataType:
        description: 类型（日志、trace、Kubernetes、其他）
        enum:
        - logs
        - trace
        - k8s
        - other
        - topology
        type: string
      day:
        description: 保存数据周期天数
        type: integer
    required:
    - dataType
    - day
    type: object
  request.SpanTraceFilter:
    properties:
      dataType:
        $ref: '#/definitions/request.DataType'
      key:
        type: string
      operation:
        $ref: '#/definitions/request.Operation'
      parentField:
        $ref: '#/definitions/request.ParentField'
      value:
        items:
          type: string
        type: array
    type: object
  request.UpdateAlertManagerConfigReceiver:
    properties:
      amConfigFile:
        type: string
      amConfigReceiver:
        $ref: '#/definitions/amconfig.Receiver'
    type: object
  request.UpdateAlertRuleRequest:
    properties:
      alertRule:
        $ref: '#/definitions/request.AlertRule'
      alertRuleFile:
        type: string
    type: object
  response.CreateResponse:
    properties:
      id:
        description: 主键ID
        type: integer
    type: object
  response.DeleteResponse:
    properties:
      id:
        description: 主键ID
        type: integer
    type: object
  response.DetailResponse:
    properties:
      id:
        type: integer
      name:
        type: string
    type: object
  response.EntryInstanceData:
    properties:
      alertReason:
        $ref: '#/definitions/model.AlertReason'
      appStatus:
        description: 应用告警
        type: string
      containerStatus:
        description: 容器告警
        type: string
      endpointCount:
        type: integer
      infrastructureStatus:
        description: 基础设施告警
        type: string
      k8sStatus:
        description: K8s状态告警
        type: string
      logs:
        $ref: '#/definitions/response.TempChartObject'
      logsStatus:
        description: 日志指标告警
        type: string
      namespaces:
        description: 应用所属命名空间,可能为空
        items:
          type: string
        type: array
      netStatus:
        description: 网络告警
        type: string
      serviceDetails:
        items:
          $ref: '#/definitions/response.ServiceDetail'
        type: array
      serviceName:
        type: string
      timestamp:
        type: integer
    type: object
  response.ErrorInfo:
    properties:
      message:
        description: 错误消息
        type: string
      type:
        description: 错误类型
        type: string
    type: object
  response.ErrorInstance:
    properties:
      containerId:
        description: 容器ID
        type: string
      logs:
        additionalProperties:
          type: number
        description: 日志告警
        type: object
      name:
        description: 错误实例名
        type: string
      nodeName:
        description: 主机名
        type: string
      pid:
        description: 进程号
        type: integer
      propations:
        description: 错误传播信息
        items:
          $ref: '#/definitions/response.ErrorPropation'
        type: array
    type: object
  response.ErrorPropation:
    properties:
      children:
        description: 下游节点列表
        items:
          $ref: '#/definitions/response.InstanceNode'
        type: array
      current:
        allOf:
        - $ref: '#/definitions/response.InstanceNode'
        description: 当前节点
      errors:
        description: 错误信息
        items:
          $ref: '#/definitions/response.ErrorInfo'
        type: array
      parents:
        description: 上游节点列表
        items:
          $ref: '#/definitions/response.InstanceNode'
        type: array
      timestamp:
        description: 时间戳
        type: integer
      traceId:
        description: TraceId
        type: string
    type: object
  response.GetAlertEventsResponse:
    properties:
      events:
        items:
          $ref: '#/definitions/clickhouse.PagedAlertEvent'
        type: array
      totalCount:
        type: integer
    type: object
  response.GetAlertEventsSampleResponse:
    properties:
      events:
        additionalProperties:
          additionalProperties:
            items:
              $ref: '#/definitions/clickhouse.AlertEventSample'
            type: array
          type: object
        type: object
      status:
        type: string
    type: object
  response.GetAlertManagerConfigReceiverResponse:
    properties:
      amConfigReceivers:
        items:
          $ref: '#/definitions/amconfig.Receiver'
        type: array
      pagination:
        $ref: '#/definitions/model.Pagination'
    type: object
  response.GetAlertRuleFileResponse:
    properties:
      alertRules:
        additionalProperties:
          type: string
        type: object
    type: object
  response.GetAlertRulesResponse:
    properties:
      alertRules:
        items:
          $ref: '#/definitions/request.AlertRule'
        type: array
      pagination:
        $ref: '#/definitions/model.Pagination'
    type: object
  response.GetDescendantMetricsResponse:
    properties:
      endpoint:
        description: Endpoint
        type: string
      latencyP90:
        description: P90曲线值
        items:
          $ref: '#/definitions/prometheus.MetricsPoint'
        type: array
      serviceName:
        description: 服务名
        type: string
    type: object
  response.GetDescendantRelevanceResponse:
    properties:
      REDStatus:
        description: RED指标告警
        type: string
      alertReason:
        $ref: '#/definitions/model.AlertReason'
      appStatus:
        description: 应用告警
        type: string
      containerStatus:
        description: 容器告警
        type: string
      delaySource:
        description: 延时主要来源 unknown/self/dependency
        type: string
      distance:
        description: 延时曲线差异
        type: number
      distanceType:
        description: 延时曲线差异计算方式, 有euclidean/pearson/dtw/failed/net_failed四种
        type: string
      endpoint:
        description: Endpoint
        type: string
      infrastructureStatus:
        description: 基础设施告警
        type: string
      k8sStatus:
        description: K8s状态告警
        type: string
      logsStatus:
        description: 日志指标告警
        type: string
      netStatus:
        description: 网络告警
        type: string
      serviceName:
        description: 服务名
        type: string
      timestamp:
        description: 末次部署时间
        type: integer
    type: object
  response.GetErrorInstanceResponse:
    properties:
      instances:
        description: 错误实例列表
        items:
          $ref: '#/definitions/response.ErrorInstance'
        type: array
      status:
        description: 错误实例状态
        type: string
    type: object
  response.GetFaultLogContentResponse:
    properties:
      logContents:
        $ref: '#/definitions/clickhouse.Logs'
      sources:
        items:
          type: string
        type: array
    type: object
  response.GetFaultLogPageListResponse:
    properties:
      list:
        items:
          $ref: '#/definitions/clickhouse.FaultLogResult'
        type: array
      pagination:
        $ref: '#/definitions/model.Pagination'
    type: object
  response.GetGroupListResponse:
    properties:
      groupsLabel:
        additionalProperties:
          type: string
        type: object
    type: object
  response.GetK8sEventsResponse:
    properties:
      data:
        additionalProperties:
          $ref: '#/definitions/response.K8sEventStatistics'
        type: object
      reasons:
        items:
          type: string
        type: array
      status:
        type: string
    type: object
  response.GetLogMetricsResponse:
    properties:
      containerId:
        description: 容器ID
        type: string
      errorRate:
        additionalProperties:
          type: number
        description: 错误率
        type: object
      latency:
        additionalProperties:
          type: number
        description: 延时P90
        type: object
      logs:
        additionalProperties:
          type: number
        description: 日志告警
        type: object
      name:
        description: 实例名
        type: string
      nodeName:
        description: 主机名
        type: string
      pid:
        description: 进程号
        type: integer
    type: object
  response.GetMetricPQLResponse:
    properties:
      alertMetricsData:
        items:
          $ref: '#/definitions/model.AlertMetricsData'
        type: array
    type: object
  response.GetPolarisInferResponse:
    properties:
      inferCause:
        type: string
      inferMetricsPng:
        type: string
    type: object
  response.GetSQLMetricsResponse:
    properties:
      pagination:
        $ref: '#/definitions/model.Pagination'
      sqlOperationDetails:
        items:
          $ref: '#/definitions/response.SQLOperationDetail'
        type: array
    type: object
  response.GetServiceEndpointRelationResponse:
    properties:
      childRelations:
        description: 下游节点调用关系列表
        items:
          $ref: '#/definitions/clickhouse.ToplogyRelation'
        type: array
      current:
        allOf:
        - $ref: '#/definitions/clickhouse.TopologyNode'
        description: 当前服务
      parents:
        description: 上游节点列表
        items:
          $ref: '#/definitions/clickhouse.TopologyNode'
        type: array
    type: object
  response.GetServiceEndpointTopologyResponse:
    properties:
      children:
        description: 下游节点列表
        items:
          $ref: '#/definitions/clickhouse.TopologyNode'
        type: array
      current:
        allOf:
        - $ref: '#/definitions/clickhouse.TopologyNode'
        description: 当前服务
      parents:
        description: 上游节点列表
        items:
          $ref: '#/definitions/clickhouse.TopologyNode'
        type: array
    type: object
  response.GetServiceEntryEndpointsResponse:
    properties:
      data:
        items:
          $ref: '#/definitions/response.EntryInstanceData'
        type: array
      status:
        type: string
    type: object
  response.GetTTLResponse:
    properties:
      k8s:
        items:
          $ref: '#/definitions/model.ModifyTableTTLMap'
        type: array
      logs:
        items:
          $ref: '#/definitions/model.ModifyTableTTLMap'
        type: array
      other:
        items:
          $ref: '#/definitions/model.ModifyTableTTLMap'
        type: array
      topology:
        items:
          $ref: '#/definitions/model.ModifyTableTTLMap'
        type: array
      trace:
        items:
          $ref: '#/definitions/model.ModifyTableTTLMap'
        type: array
    type: object
  response.GetTraceFilterValueResponse:
    properties:
      traceFilterOptions:
        $ref: '#/definitions/clickhouse.SpanTraceOptions'
    type: object
  response.GetTraceFiltersResponse:
    properties:
      traceFilters:
        items:
          $ref: '#/definitions/request.SpanTraceFilter'
        type: array
    type: object
  response.GetTraceMetricsResponse:
    properties:
      containerId:
        description: 容器ID
        type: string
      errorRate:
        additionalProperties:
          type: number
        description: 错误率
        type: object
      latency:
        additionalProperties:
          type: number
        description: 延时P90
        type: object
      logs:
        additionalProperties:
          type: number
        description: 日志告警
        type: object
      name:
        description: 实例名
        type: string
      nodeName:
        description: 主机名
        type: string
      pid:
        description: 进程号
        type: integer
    type: object
  response.GetTracePageListResponse:
    properties:
      list:
        items:
          $ref: '#/definitions/clickhouse.QueryTraceResult'
        type: array
      pagination:
        $ref: '#/definitions/model.Pagination'
    type: object
  response.InstanceData:
    properties:
      alertReason:
        $ref: '#/definitions/model.AlertReason'
      appStatus:
        description: 应用告警
        type: string
      containerStatus:
        description: 容器告警
        type: string
      errorRate:
        $ref: '#/definitions/response.TempChartObject'
      infrastructureStatus:
        description: 基础设施告警
        type: string
      k8sStatus:
        description: K8s状态告警
        type: string
      latency:
        $ref: '#/definitions/response.TempChartObject'
      logs:
        $ref: '#/definitions/response.TempChartObject'
      logsStatus:
        description: 日志指标告警
        type: string
      name:
        description: 实例名
        type: string
      namespace:
        type: string
      netStatus:
        description: 网络告警
        type: string
      nodeName:
        type: string
      timestamp:
        type: integer
      tps:
        $ref: '#/definitions/response.TempChartObject'
    type: object
  response.InstanceNode:
    properties:
      instance:
        type: string
      isTraced:
        type: boolean
      service:
        type: string
    type: object
  response.InstancesRes:
    properties:
      data:
        items:
          $ref: '#/definitions/response.InstanceData'
        type: array
      status:
        type: string
    type: object
  response.K8sEventCountValues:
    properties:
      current:
        type: integer
      lastMonth:
        type: integer
      lastWeek:
        type: integer
    type: object
  response.K8sEventStatistics:
    properties:
      counts:
        $ref: '#/definitions/response.K8sEventCountValues'
      displayName:
        type: string
      eventName:
        type: string
      severity:
        description: Normal or Warning
        type: string
    type: object
  response.ListData:
    properties:
      id:
        description: ID
        type: integer
      name:
        description: 用户名
        type: string
    type: object
  response.ListResponse:
    properties:
      list:
        items:
          $ref: '#/definitions/response.ListData'
        type: array
      pagination:
        $ref: '#/definitions/response.Pagination'
    type: object
  response.Pagination:
    properties:
      current_page:
        description: 当前页码
        type: integer
      per_page_count:
        description: 每页条数
        type: integer
      total:
        description: 总记录数
        type: integer
    type: object
  response.RYGScoreDetail:
    properties:
      detail:
        type: string
      key:
        type: string
      score:
        type: integer
    type: object
  response.RYGStatus:
    enum:
    - red
    - yellow
    - green
    type: string
    x-enum-varnames:
    - RED
    - YELLOW
    - GREEN
  response.Ratio:
    properties:
      dayOverDay:
        description: DayOverDay 日同比变化率
        type: number
      weekOverDay:
        description: WeekOverDay 周同比变化率
        type: number
    type: object
  response.SQLOperationDetail:
    properties:
      dbName:
        description: DBName -> ${database}
        type: string
      dbOperation:
        description: 'DBOperation -> ${operation} ${table}, e.g: SELECT trip'
        type: string
      dbSystem:
        description: 'DBSystem -> ${SQL Type}, e.g: Mysql'
        type: string
      dbUrl:
        type: string
      errorRate:
        $ref: '#/definitions/response.TempChartObject'
      latency:
        $ref: '#/definitions/response.TempChartObject'
      service:
        type: string
      tps:
        allOf:
        - $ref: '#/definitions/response.TempChartObject'
        description: FIXME Tps 名称为tps,实际为每分钟请求数
    type: object
  response.ServiceAlertRes:
    properties:
      alertReason:
        $ref: '#/definitions/model.AlertReason'
      appStatus:
        description: 应用告警
        type: string
      containerStatus:
        description: 容器告警
        type: string
      infrastructureStatus:
        description: 基础设施告警
        type: string
      k8sStatus:
        description: K8s状态告警
        type: string
      logs:
        $ref: '#/definitions/response.TempChartObject'
      logsStatus:
        description: 日志指标告警
        type: string
      netStatus:
        description: 网络告警
        type: string
      serviceName:
        type: string
      timestamp:
        type: integer
    type: object
  response.ServiceDetail:
    properties:
      delaySource:
        type: string
      endpoint:
        type: string
      errorRate:
        $ref: '#/definitions/response.TempChartObject'
      latency:
        $ref: '#/definitions/response.TempChartObject'
      tps:
        allOf:
        - $ref: '#/definitions/response.TempChartObject'
        description: FIXME 名称为tps,实际为每分钟请求数
    type: object
  response.ServiceEndPointsRes:
    properties:
      endpointCount:
        type: integer
      namespaces:
        description: 应用所属命名空间,可能为空
        items:
          type: string
        type: array
      serviceDetails:
        items:
          $ref: '#/definitions/response.ServiceDetail'
        type: array
      serviceName:
        type: string
    type: object
  response.ServiceRYGLightRes:
    properties:
      serviceList:
        items:
          $ref: '#/definitions/response.ServiceRYGResult'
        type: array
    type: object
  response.ServiceRYGResult:
    properties:
      percentScore:
        description: 百分比总分
        type: integer
      score:
        description: 总分
        type: integer
      scoreDetail:
        items:
          $ref: '#/definitions/response.RYGScoreDetail'
        type: array
      serviceName:
        type: string
      status:
        $ref: '#/definitions/response.RYGStatus'
    type: object
  response.TempChartObject:
    properties:
      chartData:
        additionalProperties:
          type: number
        description: ChartData 图表数据
        type: object
      ratio:
        allOf:
        - $ref: '#/definitions/response.Ratio'
        description: Ratio 指标同比变化率
      value:
        description: Value 指标平均值
        type: number
    type: object
info:
  contact: {}
  license:
    name: Apache 2.0
    url: http://www.apache.org/licenses/LICENSE-2.0.html
  title: swagger 接口文档
  version: "2.0"
paths:
  /api/alerts/alertmanager/receiver:
    delete:
      consumes:
      - application/x-www-form-urlencoded
      description: 删除告警通知对象
      parameters:
      - description: 告警通知配置文件名
        in: query
        name: amConfigFile
        type: string
      - description: 告警通知配置名称
        in: query
        name: name
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/code.Failure'
      summary: 删除告警通知对象
      tags:
      - API.alerts
    post:
      consumes:
      - application/json
      description: 更新告警通知对象
      parameters:
      - description: 请求信息
        in: body
        name: Request
        required: true
        schema:
          $ref: '#/definitions/request.UpdateAlertManagerConfigReceiver'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/code.Failure'
      summary: 更新告警通知对象
      tags:
      - API.alerts
  /api/alerts/alertmanager/receiver/list:
    post:
      consumes:
      - application/json
      description: 列出告警通知对象
      parameters:
      - description: 请求信息
        in: body
        name: Request
        required: true
        schema:
          $ref: '#/definitions/request.GetAlertManagerConfigReceverRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.GetAlertManagerConfigReceiverResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/code.Failure'
      summary: 列出告警通知对象
      tags:
      - API.alerts
  /api/alerts/inputs/alertmanager:
    post:
      consumes:
      - application/json
      description: 获取 AlertManager 的告警事件
      parameters:
      - description: 请求信息
        in: body
        name: Request
        required: true
        schema:
          $ref: '#/definitions/request.InputAlertManagerRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/code.Failure'
      summary: 获取 AlertManager 的告警事件
      tags:
      - API.alerts
  /api/alerts/rule:
    delete:
      consumes:
      - application/x-www-form-urlencoded
      description: 删除告警规则
      parameters:
      - description: 告警规则文件名
        in: query
        name: alertRuleFile
        type: string
      - description: 告警规则组
        in: query
        name: group
        type: string
      - description: 告警规则名
        in: query
        name: alert
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/code.Failure'
      summary: 删除告警规则
      tags:
      - API.alerts
    post:
      consumes:
      - application/json
      description: 更新告警规则
      parameters:
      - description: 请求信息
        in: body
        name: Request
        required: true
        schema:
          $ref: '#/definitions/request.UpdateAlertRuleRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/code.Failure'
      summary: 更新告警规则
      tags:
      - API.alerts
  /api/alerts/rule/groups:
    get:
      consumes:
      - application/x-www-form-urlencoded
      description: 获取group和label对应接口
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.GetGroupListResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/code.Failure'
      summary: 获取group和label对应接口
      tags:
      - API.alerts
  /api/alerts/rule/list:
    post:
      consumes:
      - application/json
      description: 列出告警规则
      parameters:
      - description: 请求信息
        in: body
        name: Request
        required: true
        schema:
          $ref: '#/definitions/request.GetAlertRuleRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.GetAlertRulesResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/code.Failure'
      summary: 列出告警规则
      tags:
      - API.alerts
  /api/alerts/rule/metrics:
    get:
      consumes:
      - application/x-www-form-urlencoded
      description: 获取告警规则中指标和PQL
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.GetMetricPQLResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/code.Failure'
      summary: 获取告警规则中指标和PQL
      tags:
      - API.alerts
  /api/alerts/rules:
    get:
      consumes:
      - application/x-www-form-urlencoded
      description: 获取基础告警规则
      parameters:
      - description: 查询告警规则文件名,为空返回所有
        in: query
        name: alertRuleFile
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.GetAlertRuleFileResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/code.Failure'
      summary: 获取基础告警规则
      tags:
      - API.alerts
  /api/alerts/rules/file:
    post:
      consumes:
      - application/json
      description: 更新基础告警规则
      parameters:
      - description: 请求信息
        in: body
        name: Request
        required: true
        schema:
          $ref: '#/definitions/request.UpdateAlertRuleRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/code.Failure'
      summary: 更新基础告警规则
      tags:
      - API.alerts
  /api/config/getTTL:
    get:
      consumes:
      - application/x-www-form-urlencoded
      description: 获取TTL
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.GetTTLResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/code.Failure'
      summary: 获取TTL
      tags:
      - API.config
  /api/config/setSingleTableTTL:
    post:
      consumes:
      - application/json
      description: 配置单个表格的TTL
      parameters:
      - description: 请求信息
        in: body
        name: Request
        required: true
        schema:
          $ref: '#/definitions/request.SetSingleTTLRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
        "400":
          description: Bad Request
      summary: 配置单个表格的TTL
      tags:
      - Api.config
  /api/config/setTTL:
    post:
      consumes:
      - application/json
      description: 配置TTL
      parameters:
      - description: 请求信息
        in: body
        name: Request
        required: true
        schema:
          $ref: '#/definitions/request.SetTTLRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
        "400":
          description: Bad Request
      summary: 配置TTL
      tags:
      - Api.config
  /api/log/fault/content:
    post:
      description: 获取故障现场日志内容
      parameters:
      - description: 请求信息
        in: body
        name: Request
        required: true
        schema:
          $ref: '#/definitions/request.GetFaultLogContentRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.GetFaultLogContentResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/code.Failure'
      summary: 获取故障现场日志内容
      tags:
      - API.log
  /api/log/fault/pagelist:
    post:
      consumes:
      - application/json
      description: 获取故障现场分页日志
      parameters:
      - description: 请求信息
        in: body
        name: Request
        required: true
        schema:
          $ref: '#/definitions/request.GetFaultLogPageListRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.GetFaultLogPageListResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/code.Failure'
      summary: 获取故障现场分页日志
      tags:
      - API.log
  /api/mock:
    get:
      consumes:
      - application/x-www-form-urlencoded
      description: xx列表
      parameters:
      - default: 1
        description: 第几页
        in: query
        name: page_num
        required: true
        type: integer
      - default: 10
        description: 每页显示条数
        in: query
        name: page_size
        type: integer
      - description: 用户名
        in: query
        name: name
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.ListResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/code.Failure'
      summary: xx列表
      tags:
      - API.mock
    post:
      consumes:
      - application/x-www-form-urlencoded
      description: 创建/编辑xx
      parameters:
      - description: 名称
        in: formData
        name: name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.CreateResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/code.Failure'
      summary: 创建/编辑xx
      tags:
      - API.mock
  /api/mock/{id}:
    delete:
      consumes:
      - application/json
      description: 删除xx
      parameters:
      - description: Id
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.DeleteResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/code.Failure'
      summary: 删除xx
      tags:
      - API.mock
    get:
      consumes:
      - application/json
      description: xx详情
      parameters:
      - description: ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.DetailResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/code.Failure'
      summary: xx详情
      tags:
      - API.mock
  /api/service/alert/events:
    get:
      consumes:
      - application/x-www-form-urlencoded
      description: 获取告警事件
      parameters:
      - description: 查询开始时间
        in: query
        name: startTime
        required: true
        type: integer
      - description: 查询结束时间
        in: query
        name: endTime
        required: true
        type: integer
      - description: 查询服务名
        in: query
        name: service
        type: string
      - description: 查询告警来源
        in: query
        name: source
        type: string
      - description: 查询告警类型
        in: query
        name: group
        type: string
      - description: 查询告警名称
        in: query
        name: name
        type: string
      - description: 查询告警ID
        in: query
        name: id
        type: string
      - description: 查询告警状态
        in: query
        name: status
        type: string
      - description: 分页参数,当前页数
        in: query
        name: currentPage
        type: integer
      - description: 分页参数, 每页数量
        in: query
        name: pageSize
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.GetAlertEventsResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/code.Failure'
      summary: 获取告警事件
      tags:
      - API.service
  /api/service/alert/sample/events:
    get:
      consumes:
      - application/x-www-form-urlencoded
      description: 获取采样告警事件
      parameters:
      - description: 查询开始时间
        in: query
        name: startTime
        required: true
        type: integer
      - description: 查询结束时间
        in: query
        name: endTime
        required: true
        type: integer
      - description: 查询服务名
        in: query
        name: service
        required: true
        type: string
      - description: 查询告警来源
        in: query
        name: source
        type: string
      - description: 查询告警类型
        in: query
        name: group
        type: string
      - description: 查询告警名称
        in: query
        name: name
        type: string
      - description: 查询告警ID
        in: query
        name: id
        type: string
      - description: 查询告警状态
        in: query
        name: status
        type: string
      - description: 采样告警数量
        in: query
        name: sampleCount
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.GetAlertEventsSampleResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/code.Failure'
      summary: 获取采样告警事件
      tags:
      - API.service
  /api/service/descendant/metrics:
    get:
      consumes:
      - application/x-www-form-urlencoded
      description: 获取所有下游服务的延时曲线数据
      parameters:
      - description: 查询开始时间
        in: query
        name: startTime
        required: true
        type: integer
      - description: 查询结束时间
        in: query
        name: endTime
        required: true
        type: integer
      - description: 查询服务名
        in: query
        name: service
        required: true
        type: string
      - description: 查询Endpoint
        in: query
        name: endpoint
        required: true
        type: string
      - description: 查询步长(us)
        in: query
        name: step
        required: true
        type: integer
      - description: 入口服务名
        in: query
        name: entryService
        type: string
      - description: 入口Endpoint
        in: query
        name: entryEndpoint
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/response.GetDescendantMetricsResponse'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/code.Failure'
      summary: 获取所有下游服务的延时曲线数据
      tags:
      - API.service
  /api/service/descendant/relevance:
    get:
      consumes:
      - application/x-www-form-urlencoded
      description: 获取依赖节点延时关联度
      parameters:
      - description: 查询开始时间
        in: query
        name: startTime
        required: true
        type: integer
      - description: 查询结束时间
        in: query
        name: endTime
        required: true
        type: integer
      - description: 查询服务名
        in: query
        name: service
        required: true
        type: string
      - description: 查询Endpoint
        in: query
        name: endpoint
        required: true
        type: string
      - description: 查询步长(us)
        in: query
        name: step
        required: true
        type: integer
      - description: 入口服务名
        in: query
        name: entryService
        type: string
      - description: 入口Endpoint
        in: query
        name: entryEndpoint
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/response.GetDescendantRelevanceResponse'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/code.Failure'
      summary: 获取依赖节点延时关联度
      tags:
      - API.service
  /api/service/endpoint/list:
    get:
      consumes:
      - application/x-www-form-urlencoded
      description: 获取服务EndPoint列表
      parameters:
      - description: 查询开始时间
        in: query
        name: startTime
        required: true
        type: integer
      - description: 查询结束时间
        in: query
        name: endTime
        required: true
        type: integer
      - description: 查询服务名
        in: query
        name: service
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              type: string
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/code.Failure'
      summary: 获取服务EndPoint列表
      tags:
      - API.service
  /api/service/endpoints:
    get:
      consumes:
      - application/x-www-form-urlencoded
      description: 获取endpoints服务列表
      parameters:
      - description: 查询开始时间
        in: query
        name: startTime
        required: true
        type: integer
      - description: 查询结束时间
        in: query
        name: endTime
        required: true
        type: integer
      - description: 步长
        in: query
        name: step
        required: true
        type: integer
      - description: 名称
        in: query
        name: serviceName
        type: string
      - description: 排序逻辑
        in: query
        name: sortRule
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.ServiceEndPointsRes'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/code.Failure'
      summary: 获取endpoints服务列表
      tags:
      - API.service
  /api/service/entry/endpoints:
    get:
      consumes:
      - application/x-www-form-urlencoded
      description: 获取服务入口Endpoint列表
      parameters:
      - description: 查询开始时间
        in: query
        name: startTime
        required: true
        type: integer
      - description: 查询结束时间
        in: query
        name: endTime
        required: true
        type: integer
      - description: 查询服务名
        in: query
        name: service
        required: true
        type: string
      - description: 查询Endpoint
        in: query
        name: endpoint
        required: true
        type: string
      - description: 查询步长(us)
        in: query
        name: step
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/response.GetServiceEntryEndpointsResponse'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/code.Failure'
      summary: 获取服务入口Endpoint列表
      tags:
      - API.service
  /api/service/error/instance:
    get:
      consumes:
      - application/x-www-form-urlencoded
      description: 获取错误实例
      parameters:
      - description: 查询开始时间
        in: query
        name: startTime
        required: true
        type: integer
      - description: 查询结束时间
        in: query
        name: endTime
        required: true
        type: integer
      - description: 查询服务名
        in: query
        name: service
        required: true
        type: string
      - description: 查询Endpoint
        in: query
        name: endpoint
        required: true
        type: string
      - description: 查询步长(us)
        in: query
        name: step
        required: true
        type: integer
      - description: 入口服务名
        in: query
        name: entryService
        type: string
      - description: 入口Endpoint
        in: query
        name: entryEndpoint
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.GetErrorInstanceResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/code.Failure'
      summary: 获取错误实例
      tags:
      - API.service
  /api/service/errorinstance/logs:
    get:
      consumes:
      - application/x-www-form-urlencoded
      description: 获取错误实例故障现场日志
      parameters:
      - description: 查询开始时间
        in: query
        name: startTime
        required: true
        type: integer
      - description: 查询结束时间
        in: query
        name: endTime
        required: true
        type: integer
      - description: 查询服务名
        in: query
        name: service
        required: true
        type: string
      - description: 查询Endpoint
        in: query
        name: endpoint
        required: true
        type: string
      - description: 实例名
        in: query
        name: instance
        type: string
      - description: 主机名
        in: query
        name: nodeName
        type: string
      - description: 容器名
        in: query
        name: containerId
        type: string
      - description: 进程号
        in: query
        name: pid
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/clickhouse.FaultLogResult'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/code.Failure'
      summary: 获取错误实例故障现场日志
      tags:
      - API.service
  /api/service/getThreshold:
    get:
      consumes:
      - application/x-www-form-urlencoded
      description: 获取单个阈值配置信息
      parameters:
      - description: 应用名称
        in: query
        name: serviceName
        type: string
      - description: endpoint
        in: query
        name: endpoint
        type: string
      - description: 阈值等级
        in: query
        name: level
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/code.Failure'
      summary: 获取单个阈值配置信息
      tags:
      - API.service
  /api/service/instance/list:
    get:
      consumes:
      - application/x-www-form-urlencoded
      deprecated: true
      description: 获取服务实例列表
      parameters:
      - description: 查询开始时间
        in: query
        name: startTime
        required: true
        type: integer
      - description: 查询结束时间
        in: query
        name: endTime
        required: true
        type: integer
      - description: 查询服务名
        in: query
        name: service
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              type: string
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/code.Failure'
      summary: 获取服务实例列表
      tags:
      - API.service
  /api/service/instance/options:
    get:
      consumes:
      - application/x-www-form-urlencoded
      description: 获取服务下拉实例列表
      parameters:
      - description: 查询开始时间
        in: query
        name: startTime
        required: true
        type: integer
      - description: 查询结束时间
        in: query
        name: endTime
        required: true
        type: integer
      - description: 查询服务名
        in: query
        name: service
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              $ref: '#/definitions/model.ServiceInstance'
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/code.Failure'
      summary: 获取服务下拉实例列表
      tags:
      - API.service
  /api/service/instances:
    get:
      consumes:
      - application/x-www-form-urlencoded
      description: 获取service对应url实例
      parameters:
      - description: 查询开始时间
        in: query
        name: startTime
        required: true
        type: integer
      - description: 查询结束时间
        in: query
        name: endTime
        required: true
        type: integer
      - description: 步长
        in: query
        name: step
        required: true
        type: integer
      - description: 应用名称
        in: query
        name: serviceName
        required: true
        type: string
      - description: endpoint
        in: query
        name: endpoint
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.InstancesRes'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/code.Failure'
      summary: 获取service对应url实例
      tags:
      - API.service
  /api/service/k8s/events/count:
    get:
      consumes:
      - application/x-www-form-urlencoded
      description: 获取K8s事件
      parameters:
      - description: 查询开始时间
        in: query
        name: startTime
        required: true
        type: integer
      - description: 查询结束时间
        in: query
        name: endTime
        required: true
        type: integer
      - description: 查询服务名
        in: query
        name: service
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.GetK8sEventsResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/code.Failure'
      summary: 获取K8s事件
      tags:
      - API.service
  /api/service/list:
    get:
      consumes:
      - application/x-www-form-urlencoded
      description: 获取服务列表
      parameters:
      - description: 查询开始时间
        in: query
        name: startTime
        required: true
        type: integer
      - description: 查询结束时间
        in: query
        name: endTime
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              type: string
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/code.Failure'
      summary: 获取服务列表
      tags:
      - API.service
  /api/service/log/logs:
    get:
      consumes:
      - application/x-www-form-urlencoded
      description: 获取Log故障现场日志
      parameters:
      - description: 查询开始时间
        in: query
        name: startTime
        required: true
        type: integer
      - description: 查询结束时间
        in: query
        name: endTime
        required: true
        type: integer
      - description: 查询服务名
        in: query
        name: service
        required: true
        type: string
      - description: 查询Endpoint
        in: query
        name: endpoint
        required: true
        type: string
      - description: 实例名
        in: query
        name: instance
        type: string
      - description: 主机名
        in: query
        name: nodeName
        type: string
      - description: 容器名
        in: query
        name: containerId
        type: string
      - description: 进程号
        in: query
        name: pid
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/clickhouse.FaultLogResult'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/code.Failure'
      summary: 获取Log故障现场日志
      tags:
      - API.service
  /api/service/log/metrics:
    get:
      consumes:
      - application/x-www-form-urlencoded
      description: 获取日志相关指标
      parameters:
      - description: 查询开始时间
        in: query
        name: startTime
        required: true
        type: integer
      - description: 查询结束时间
        in: query
        name: endTime
        required: true
        type: integer
      - description: 查询服务名
        in: query
        name: service
        required: true
        type: string
      - description: 查询Endpoint
        in: query
        name: endpoint
        required: true
        type: string
      - description: 查询步长(us)
        in: query
        name: step
        required: true
        type: integer
      - description: 入口服务名
        in: query
        name: entryService
        type: string
      - description: 入口Endpoint
        in: query
        name: entryEndpoint
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/response.GetLogMetricsResponse'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/code.Failure'
      summary: 获取日志相关指标
      tags:
      - API.service
  /api/service/moreUrl:
    get:
      consumes:
      - application/x-www-form-urlencoded
      description: 获取服务的更多url列表
      parameters:
      - description: 查询开始时间
        in: query
        name: startTime
        required: true
        type: integer
      - description: 查询结束时间
        in: query
        name: endTime
        required: true
        type: integer
      - description: 步长
        in: query
        name: step
        required: true
        type: integer
      - description: 应用名称
        in: query
        name: serviceName
        required: true
        type: string
      - description: 排序逻辑
        in: query
        name: sortRule
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/response.ServiceDetail'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/code.Failure'
      summary: 获取服务的更多url列表
      tags:
      - API.service
  /api/service/polaris/infer:
    get:
      consumes:
      - application/x-www-form-urlencoded
      description: 获取北极星指标分析情况
      parameters:
      - description: 查询开始时间
        in: query
        name: startTime
        required: true
        type: integer
      - description: 查询结束时间
        in: query
        name: endTime
        required: true
        type: integer
      - description: 查询步长(us)
        in: query
        name: step
        required: true
        type: integer
      - description: 查询服务名
        in: query
        name: service
        required: true
        type: string
      - description: 查询Endpoint
        in: query
        name: endpoint
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.GetPolarisInferResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/code.Failure'
      summary: 获取北极星指标分析情况
      tags:
      - API.service
  /api/service/relation:
    get:
      consumes:
      - application/x-www-form-urlencoded
      description: 获取服务上下游调用关系
      parameters:
      - description: 查询开始时间
        in: query
        name: startTime
        required: true
        type: integer
      - description: 查询结束时间
        in: query
        name: endTime
        required: true
        type: integer
      - description: 查询服务名
        in: query
        name: service
        required: true
        type: string
      - description: 查询Endpoint
        in: query
        name: endpoint
        required: true
        type: string
      - description: 入口服务名
        in: query
        name: entryService
        type: string
      - description: 入口Endpoint
        in: query
        name: entryEndpoint
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.GetServiceEndpointRelationResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/code.Failure'
      summary: 获取服务上下游调用关系
      tags:
      - API.service
  /api/service/ryglight:
    get:
      consumes:
      - application/x-www-form-urlencoded
      description: 获取红绿灯结果
      parameters:
      - description: 查询开始时间
        in: query
        name: startTime
        required: true
        type: integer
      - description: 查询结束时间
        in: query
        name: endTime
        required: true
        type: integer
      - description: 服务名称
        in: query
        name: serviceName
        type: string
      - description: 接口名称
        in: query
        name: endpointName
        type: string
      - description: 命名空间
        in: query
        name: namespace
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.ServiceRYGLightRes'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/code.Failure'
      summary: 获取红绿灯结果
      tags:
      - API.service
  /api/service/servicesAlert:
    get:
      consumes:
      - application/x-www-form-urlencoded
      description: 获取Service的日志告警和状态灯信息
      parameters:
      - description: 查询开始时间
        in: query
        name: startTime
        required: true
        type: integer
      - description: 查询结束时间
        in: query
        name: endTime
        required: true
        type: integer
      - description: 步长
        in: query
        name: step
        required: true
        type: integer
      - collectionFormat: multi
        description: 应用名称
        in: query
        items:
          type: string
        name: serviceNames
        required: true
        type: array
      - collectionFormat: multi
        description: 返回数据内容
        in: query
        items:
          type: string
        name: returnData
        type: array
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.ServiceAlertRes'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/code.Failure'
      summary: 获取Service的日志告警和状态灯信息
      tags:
      - API.service
  /api/service/setThreshold:
    post:
      consumes:
      - application/x-www-form-urlencoded
      description: 配置单个阈值配置信息
      parameters:
      - description: 阈值等级
        in: formData
        name: level
        required: true
        type: string
      - description: 应用名称
        in: formData
        name: serviceName
        type: string
      - description: endpoint
        in: formData
        name: endpoint
        type: string
      - description: 同比延时
        in: formData
        name: latency
        required: true
        type: number
      - description: 同比错误率
        in: formData
        name: errorRate
        required: true
        type: number
      - description: 同比请求次数
        in: formData
        name: tps
        required: true
        type: number
      - description: 同比日志告警
        in: formData
        name: log
        required: true
        type: number
      produces:
      - application/json
      responses:
        "200":
          description: OK
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/code.Failure'
      summary: 配置单个阈值配置信息
      tags:
      - API.service
  /api/service/sql/metrics:
    get:
      consumes:
      - application/x-www-form-urlencoded
      description: 获取SQL指标
      parameters:
      - description: 查询开始时间
        in: query
        name: startTime
        required: true
        type: integer
      - description: 查询结束时间
        in: query
        name: endTime
        required: true
        type: integer
      - description: 查询服务名
        in: query
        name: service
        required: true
        type: string
      - description: 查询步长(us)
        in: query
        name: step
        required: true
        type: integer
      - description: 排序方法(latency/errorRate/tps)
        in: query
        name: sortBy
        required: true
        type: string
      - description: 分页参数,当前页数
        in: query
        name: currentPage
        type: integer
      - description: 分页参数, 每页数量
        in: query
        name: pageSize
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.GetSQLMetricsResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/code.Failure'
      summary: 获取SQL指标
      tags:
      - API.service
  /api/service/topology:
    get:
      consumes:
      - application/x-www-form-urlencoded
      description: 获取服务上下游拓扑
      parameters:
      - description: 查询开始时间
        in: query
        name: startTime
        required: true
        type: integer
      - description: 查询结束时间
        in: query
        name: endTime
        required: true
        type: integer
      - description: 查询服务名
        in: query
        name: service
        required: true
        type: string
      - description: 查询Endpoint
        in: query
        name: endpoint
        required: true
        type: string
      - description: 入口服务名
        in: query
        name: entryService
        type: string
      - description: 入口Endpoint
        in: query
        name: entryEndpoint
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.GetServiceEndpointTopologyResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/code.Failure'
      summary: 获取服务上下游拓扑
      tags:
      - API.service
  /api/service/trace/logs:
    get:
      consumes:
      - application/x-www-form-urlencoded
      description: 获取Trace故障现场日志
      parameters:
      - description: 查询开始时间
        in: query
        name: startTime
        required: true
        type: integer
      - description: 查询结束时间
        in: query
        name: endTime
        required: true
        type: integer
      - description: 查询服务名
        in: query
        name: service
        required: true
        type: string
      - description: 查询Endpoint
        in: query
        name: endpoint
        required: true
        type: string
      - description: 实例名
        in: query
        name: instance
        type: string
      - description: 主机名
        in: query
        name: nodeName
        type: string
      - description: 容器名
        in: query
        name: containerId
        type: string
      - description: 进程号
        in: query
        name: pid
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/clickhouse.FaultLogResult'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/code.Failure'
      summary: 获取Trace故障现场日志
      tags:
      - API.service
  /api/service/trace/metrics:
    get:
      consumes:
      - application/x-www-form-urlencoded
      description: 获取Trace相关指标
      parameters:
      - description: 查询开始时间
        in: query
        name: startTime
        required: true
        type: integer
      - description: 查询结束时间
        in: query
        name: endTime
        required: true
        type: integer
      - description: 查询服务名
        in: query
        name: service
        required: true
        type: string
      - description: 查询Endpoint
        in: query
        name: endpoint
        required: true
        type: string
      - description: 查询步长(us)
        in: query
        name: step
        required: true
        type: integer
      - description: 入口服务名
        in: query
        name: entryService
        type: string
      - description: 入口Endpoint
        in: query
        name: entryEndpoint
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/response.GetTraceMetricsResponse'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/code.Failure'
      summary: 获取Trace相关指标
      tags:
      - API.service
  /api/trace/pagelist:
    post:
      consumes:
      - application/json
      description: 查询Trace分页列表
      parameters:
      - description: 请求信息
        in: body
        name: Request
        required: true
        schema:
          $ref: '#/definitions/request.GetTracePageListRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.GetTracePageListResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/code.Failure'
      summary: 查询Trace分页列表
      tags:
      - API.trace
  /api/trace/pagelist/filter/value:
    post:
      consumes:
      - application/x-www-form-urlencoded
      description: 查询指定过滤器的可用数值
      parameters:
      - description: 请求信息
        in: body
        name: Request
        required: true
        schema:
          $ref: '#/definitions/request.GetTraceFilterValueRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.GetTraceFilterValueResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/code.Failure'
      summary: 查询指定过滤器的可用数值
      tags:
      - API.trace
  /api/trace/pagelist/filters:
    get:
      consumes:
      - application/x-www-form-urlencoded
      description: 查询Trace列表可用的过滤器
      parameters:
      - description: 查询开始时间
        in: query
        name: startTime
        required: true
        type: integer
      - description: 查询结束时间
        in: query
        name: endTime
        required: true
        type: integer
      - description: 是否根据用户输入的时间立即更新可用过滤器
        in: query
        name: needUpdate
        type: boolean
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.GetTraceFiltersResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/code.Failure'
      summary: 查询Trace列表可用的过滤器
      tags:
      - API.trace
swagger: "2.0"
